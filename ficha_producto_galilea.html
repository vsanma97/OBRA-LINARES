
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ficha Producto Galilea</title>
  <style>
    body { font-family: Arial; padding: 2em; }
    .card { background: white; padding: 2em; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1); max-width: 700px; margin: auto; }
    h2 { color: #c8102e; }
  </style>
</head>
<body>
<div class="card">
  <h2>Ficha del Producto</h2>
  <div id="contenido">Cargando...</div>
</div>

<script>
function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

async function cargarDatos() {
  const codigo = getQueryParam("codigo");
  const response = await fetch("../productos.csv");
  const data = await response.text();
  const filas = data.split("\n").slice(1);

  for (const fila of filas) {
    const columnas = fila.split(",");
    if (columnas[0] === codigo) {
      document.getElementById("contenido").innerHTML = `
        <p><strong>Descripción:</strong> ${columnas[1]}</p>
        <p><strong>Estado de stock:</strong> ${columnas[2]}</p>
        <p><strong>Stock mínimo:</strong> ${columnas[3]}</p>
        <p><strong>Cantidad en stock:</strong> ${columnas[4]}</p>
      `;
      return;
    }
  }
  document.getElementById("contenido").innerText = "Producto no encontrado.";
}

cargarDatos();
</script>
</body>
</html>
